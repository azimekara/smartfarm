import{D as t}from"./dom-166a04be.js";import{C as o}from"./css-classes-f3f8ed66.js";import{D as e}from"./dx-html-element-base-3902c3e3.js";import{T as n}from"./text-editor-98535492.js";import{g as i,C as r,d as a}from"./dom-utils-7f5be2f0.js";import"./_tslib-6e8ca86b.js";import"./data-qa-utils-8be7c726.js";import"./dx-html-element-pointer-events-helper-0f2b6602.js";import"./eventhelper-8570b930.js";import"./dx-ui-element-de378e9d.js";import"./logicaltreehelper-15991dcb.js";import"./layouthelper-4b19d191.js";import"./rect-7fc5c2ef.js";import"./point-9c6ab88a.js";import"./lit-element-base-af247167.js";import"./lit-element-b0a6fcba.js";import"./custom-events-helper-18f7786a.js";import"./constants-4c28185b.js";import"./property-d3853089.js";class l{}l.Root=o.Prefix+"-fl",l.Loading=l.Root+"-loading",l.RowBreak=l.Root+"-row-break",l.Group=l.Root+"-group",l.GroupDecoration=l.Root+"-gd",l.GroupTab=l.Root+"-gt",l.GroupHeaderTemplate=l.Root+"-group-header-tmpl",l.Item=l.Root+"-item",l.TabItem=l.Root+"-tab-item",l.Caption=l.Root+"-cpt",l.EmptyCaption=l.Root+"-empty-caption",l.BeginRow=l.Root+"-begin-row",l.TabContent=l.Root+"-tab-content",l.ItemContentWithCaption=l.Root+"-ctrl",l.ItemContentWithoutCaption=l.Root+"-ctrl-nc",l.ItemHorizontal=l.Root+"-item-horizontal",l.HeaderContentTemplate=l.Root+"-header-content-tmpl",l.CaptionTemplate=l.Root+"-caption-tmpl",l.ItemCaptionWidthCalculation=l.Root+"-calc",l.Row=o.Prefix+"-row";class s{}s.Group=o.Prefix+"-group",s.Header=s.Group+"-header",s.Body=s.Group+"-body",s.BodyContent=s.Body+"-content";var c;!function(t){t.v4="v4",t.v5="v5"}(c||(c={}));const p={};function u(o){!function(o,e,n){const r=p[o]||(p[o]=t.getCurrentStyle(document.body).getPropertyValue(o)||e);if(r){const t=i();t&&t.insertRule("@media (min-width: "+r+") {\n"+n+"\n}\n",t.cssRules.length)}}("--breakpoint-lg","992px",o)}const m=l.Root,d=l.Group,f=l.ItemCaptionWidthCalculation,h=` > .${l.Caption}`,C=`.${l.Item}.${l.ItemHorizontal}`,b=`.${l.TabItem}.${l.ItemHorizontal}`,$=` > .${s.Group} > .${s.Body} > .${s.BodyContent}`,y=/\./g;function g(t){return t.replace(y,"\\$&")}function R(t){return document.getElementById(t)}function I(t,o,e){if(!R(t))return;const n=document.getElementById(o);n&&j(n,t,!0,e)}function x(t,o){o&&j(o,t,!1,!1)}function j(e,n,i,r){let s=0;t.addClassName(e,f);const c=e.classList.contains(l.GroupDecoration),p=!r,y=i?function(t,o,e){const n="#"+o.id,i=` .${l.Row} > ${b}`+h;if(e){return v(t,o.querySelectorAll(`${n}${i}, ${n} ${i}`))}return Array.prototype.slice.call(o.querySelectorAll(`:scope >${i}`))}(n,e,r):function(t,e,n,i){const r=` > .${l.Row} > dxbl-form-layout-item:not(.${l.Group}):not(.${l.GroupTab})${C}${h}`,a=$+r;if(n)return v(t,e.querySelectorAll(`dxbl-form-layout-item:not(.${l.TabItem}):not(.${o.Invisible})`+C+h));return Array.prototype.slice.call(e.querySelectorAll(`:scope${i?a:r}`))}(n,e,r,c);s=function(t){let o=0;if(t.length>0){const e=t.find(w);let n="0 px";e&&(n=window.getComputedStyle(e,null).getPropertyValue("height"));for(let e=0;e<t.length;e++){const i=t[e].offsetWidth;T(t[e])&&(t[e].style.height=n);const r=t[e].parentNode;r&&i>o&&i<r.offsetWidth&&(o=i)}}return o>0?o+1:0}(y),function(t,o,e,n,i,r){if(0===e)return;if(!o.itemCaptionWidth||e>o.itemCaptionWidth){o.itemCaptionWidth=e;const s=` > .${l.Row} > `+C,c=$+s,p=function(t,o){const e=R(t);if(!e)return null;let n=`.${l.Root}`,i=e;for(;i;)n=" #"+g(i.id)+n,i=a(i.parentNode,m);n.slice(1);let r="",s=o;for(;s&&s!==e&&e.contains(s);)s.id&&(r=" #"+g(s.id)+r),s=a(s.parentNode,d);return n+=r,n}(t,o);let f="";f=r?n?` > .${l.Row} > ${b}`:i?c:s:n?` ${b}`:` dxbl-form-layout-item:not(.${l.TabItem})${C}`;let y=p+f+`${h} {\n width:`+e+"px;\n}\n";y+=p+f+` > .${l.ItemContentWithCaption}:not(img):not(.${l.EmptyCaption} + .${l.ItemContentWithCaption}):not(.${l.ItemContentWithoutCaption}) {\n width: calc(100% - `+e+"px);\n}\n",u(y)}}(n,e,s,i,c,p),t.removeClassName(e,f)}function v(t,o){const e=R(t);return r(o,(t=>a(t,m)===e))}function w(t){return!T(t)}function T(t){return t.classList.contains(l.EmptyCaption)}function F(o,e){const n=R(o);n&&(j(n,o,!1,e),t.removeClassName(n,l.Loading))}customElements.define("dxbl-form-layout-item",class extends e{constructor(){super(),this._captionFor=null}get captionFor(){return this._captionFor}set captionFor(t){this._captionFor=t}connectedCallback(){super.connectedCallback(),this.initCaptionForInput()}initCaptionForInput(){var t;const o=this.getCaption();if(o&&""!==this.captionFor){const e=this.captionFor||(null===(t=this.getEditorInput())||void 0===t?void 0:t.id);e&&(o.htmlFor=e)}}getCaption(){return this.querySelector(`:scope > .${l.Caption}`)}getEditorInput(){return this.querySelector(`.${n.TextEdit} > input, .${n.TextEdit} > textarea, .dxbl-checkbox-check-element > input`)}static get observedAttributes(){return["caption-for"]}attributeChangedCallback(t,o,e){if("caption-for"===t)this.captionFor=e}});const G={init:F,createAdaptivityCssRulesForTab:I,createAdaptivityCssRulesForGroup:x};export{x as createAdaptivityCssRulesForGroup,I as createAdaptivityCssRulesForTab,G as default,F as init};
